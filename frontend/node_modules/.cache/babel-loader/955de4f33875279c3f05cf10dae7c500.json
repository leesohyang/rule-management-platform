{"ast":null,"code":"var _jsxFileName = \"/home/leesohyang/WebstormProjects/fronted_react_final/src/components/popup/ReleasePopup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react'; // import { Dialog, DialogTitle, DialogContent, makeStyles, Typography } from '@material-ui/core';\n// import { makeStyles } from \"@material-ui/core\";\n// import Controls from \"./controls/Controls\";\n// import CloseIcon from '@material-ui/icons/Close';\n\nimport { convertHex2Str } from \"../util/utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { hisFlag, openPop } from \"../../services/Redux/actions\";\nimport { apiProvider } from \"../../services/Provider\";\nimport isEqual from 'lodash.isequal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReleasePopup(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const data = useSelector(state => state.fetchAPI.data);\n  const currData = useSelector(state => state.fetchAPI.editedOrigin);\n  const [state, setState] = React.useState({\n    releasePath: \"\",\n    nodeSize: \"\",\n    makeSubNode: false,\n    separator: \"\"\n  });\n  const [signals, setSignals] = React.useState([]);\n  const [sigDef, setSigDef] = React.useState([]);\n  React.useEffect(() => {\n    apiProvider.getReleaseForm(\"Field\").then(res => {\n      setState(res.data.value);\n      setSigDef(res.data.signal);\n    } // console.log(res)\n    );\n  }, []);\n\n  const onChange = (key, value) => {\n    setState({ ...state,\n      [key]: value\n    });\n  };\n\n  const onClose = () => {\n    dispatch(openPop(false));\n  };\n\n  const handleRelease = () => {\n    //field 테이블에 넣는 것.\n    // props.deleteAll()\n    // data.forEach((item) => {\n    //     props.addf(item)\n    // })\n    //TODO:: \n    //TODO:: 이 전에 savedData 저장 하고 upsert 해놔야지. savedData 가 없다?(바뀐게 없다?) => updateRelease 해놔야함. 바뀐게 있다?=>배포한다? 똑같이 upsert하는데 release 인자 = true\n    apiProvider.releaseZk(state).then(apiProvider.signalZk(signals)); // const history = {\n    //     id: \"1\",\n    //     desc: \"temp\",\n    //     user: \"admin\",\n    //     released: \"true\",\n    //     value: {field: data}\n    // }\n    // //hitory 테이블에 넣는것.\n    // isEqual(data, currData.value.field)\n    //     ? apiProvider.update(props.name, currData).then(() => {\n    //         dispatch(hisFlag(true));\n    //         dispatch(openPop(false))\n    //     })\n    //     : apiProvider.insert(props.name, history).then(() => {\n    //         dispatch(hisFlag(true));\n    //         dispatch(openPop(false))\n    //     })\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup popup--dark\",\n    id: \"releaseOptionPopup\",\n    style: {\n      width: '600px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"release option\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-close\",\n        onClick: () => onClose()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__body release-option-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"release-option-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"release-option-tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Release Path : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\" // value={state[tab].releasePath}\n            // defaultValue={\"default\"}\n            ,\n            value: state.releasePath,\n            className: \"form-control\",\n            style: {\n              width: \"455px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"releasePath\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Node Size : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\" // value={state[tab].releasePath}\n            ,\n            value: state.nodeSize,\n            className: \"form-control\",\n            style: {\n              width: \"155px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"nodeSize\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Make Sub Node : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\" // value={state[tab].releasePath}\n            ,\n            value: state.makeSubNode,\n            className: \"form-control\",\n            style: {\n              width: \"155px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"makeSubNode\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Separator : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: state.separator,\n            className: \"form-control\",\n            style: {\n              width: \"140px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"separator\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginLeft: \"15px\"\n            },\n            children: \"Convert : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"\" + convertHex2Str(state.separator) + \"\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signal-option-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Signal Option\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn--blue\",\n          style: {\n            marginLeft: \"430px\"\n          },\n          onClick: () => {\n            if (signals.length > 0 && !signals.slice(-1)[0].signal && !signals.slice(-1)[0].path) {\n              return;\n            } // setSignals([...signals, {signal: '', path: ''}]);\n\n\n            setSignals([...signals, sigDef]);\n          },\n          children: \"ADD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"signal-option-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"colgroup\", {\n              children: [/*#__PURE__*/_jsxDEV(\"col\", {\n                style: {\n                  width: \"240px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"col\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n                style: {\n                  width: \"30px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Signal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Path\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: signals && signals.map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: item.signal,\n                    className: \"form-control\",\n                    onChange: e => {\n                      const {\n                        value\n                      } = e.target;\n                      setSignals([...signals.slice(0, idx), { ...item,\n                        signal: value\n                      }, ...signals.slice(idx + 1)]);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: item.path,\n                    className: \"form-control\",\n                    onChange: e => {\n                      const {\n                        value\n                      } = e.target;\n                      setSignals([...signals.slice(0, idx), { ...item,\n                        path: value\n                      }, ...signals.slice(idx + 1)]);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn\",\n                    onClick: () => {\n                      setSignals([...signals.slice(0, idx), ...signals.slice(idx + 1)]);\n                    },\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 37\n                }, this)]\n              }, \"signal-option-popup-\" + idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: () => onClose(),\n        children: \"cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn--blue\",\n        onClick: () => handleRelease(),\n        children: \"save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ReleasePopup, \"SHhSahz7c4ZNBlwVK3aeRXcVLpQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = ReleasePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReleasePopup\");","map":{"version":3,"sources":["/home/leesohyang/WebstormProjects/fronted_react_final/src/components/popup/ReleasePopup.js"],"names":["React","convertHex2Str","useDispatch","useSelector","hisFlag","openPop","apiProvider","isEqual","ReleasePopup","props","dispatch","data","state","fetchAPI","currData","editedOrigin","setState","useState","releasePath","nodeSize","makeSubNode","separator","signals","setSignals","sigDef","setSigDef","useEffect","getReleaseForm","then","res","value","signal","onChange","key","onClose","handleRelease","releaseZk","signalZk","width","e","target","marginLeft","length","slice","path","map","item","idx"],"mappings":"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","sourcesContent":["import React from 'react'\n// import { Dialog, DialogTitle, DialogContent, makeStyles, Typography } from '@material-ui/core';\n// import { makeStyles } from \"@material-ui/core\";\n// import Controls from \"./controls/Controls\";\n// import CloseIcon from '@material-ui/icons/Close';\nimport {convertHex2Str} from \"../util/utils\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {hisFlag, openPop} from \"../../services/Redux/actions\";\nimport {apiProvider} from \"../../services/Provider\";\nimport isEqual from 'lodash.isequal';\n\nexport default function ReleasePopup(props) {\n\n    const dispatch = useDispatch();\n\n    const data = useSelector(state => state.fetchAPI.data)\n    const currData = useSelector(state => state.fetchAPI.editedOrigin)\n\n    const [state, setState] = React.useState({\n        releasePath: \"\",\n        nodeSize: \"\",\n        makeSubNode: false,\n        separator: \"\",\n    })\n\n    const [signals, setSignals] = React.useState([]);\n    const [sigDef, setSigDef] = React.useState([]);\n\n    React.useEffect(() => {\n        apiProvider.getReleaseForm(\"Field\").then((res) => {\n                setState(res.data.value);\n                setSigDef(res.data.signal);\n            }\n            // console.log(res)\n        )\n    }, [])\n\n    const onChange = (key, value) => {\n        setState({\n            ...state,\n            [key]: value,\n        });\n    }\n    const onClose = () => {\n        dispatch(openPop(false))\n    }\n    const handleRelease = () => {\n        //field 테이블에 넣는 것.\n        // props.deleteAll()\n        // data.forEach((item) => {\n        //     props.addf(item)\n        // })\n        //TODO:: \n        //TODO:: 이 전에 savedData 저장 하고 upsert 해놔야지. savedData 가 없다?(바뀐게 없다?) => updateRelease 해놔야함. 바뀐게 있다?=>배포한다? 똑같이 upsert하는데 release 인자 = true\n        apiProvider.releaseZk(state).then(apiProvider.signalZk(signals))\n        // const history = {\n        //     id: \"1\",\n        //     desc: \"temp\",\n        //     user: \"admin\",\n        //     released: \"true\",\n        //     value: {field: data}\n        // }\n\n        // //hitory 테이블에 넣는것.\n        // isEqual(data, currData.value.field)\n        //     ? apiProvider.update(props.name, currData).then(() => {\n        //         dispatch(hisFlag(true));\n        //         dispatch(openPop(false))\n        //     })\n        //     : apiProvider.insert(props.name, history).then(() => {\n        //         dispatch(hisFlag(true));\n        //         dispatch(openPop(false))\n        //     })\n\n    }\n    return (\n        <div\n            className=\"popup popup--dark\"\n            id=\"releaseOptionPopup\"\n            style={{width: '600px'}}\n        >\n            <div className=\"popup__header\">\n                <h5>\n                    {/*<IntlMessages id=\"field.release.option\" />*/}\n                    release option\n                </h5>\n                <button\n                    className=\"btn btn-close\"\n                    onClick={() => onClose()}\n                />\n            </div>\n            <div\n                className=\"popup__body release-option-popup\"\n            >\n                <div className=\"release-option-wrap\">\n                    <div className=\"release-option-tab\"></div>\n                    <div>\n                        <label>Release Path : </label>\n                        <input\n                            type=\"text\"\n                            // value={state[tab].releasePath}\n                            // defaultValue={\"default\"}\n                            value={state.releasePath}\n                            className=\"form-control\"\n                            style={{width: \"455px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"releasePath\", value);\n                            }}\n                        />\n                    </div>\n                    <div>\n                        <label>Node Size : </label>\n                        <input\n                            type=\"text\"\n                            // value={state[tab].releasePath}\n                            value={state.nodeSize}\n                            className=\"form-control\"\n                            style={{width: \"155px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"nodeSize\", value);\n                            }}\n                        />\n                    </div>\n                    <div>\n                        <label>Make Sub Node : </label>\n                        <input\n                            type=\"text\"\n                            // value={state[tab].releasePath}\n                            value={state.makeSubNode}\n                            className=\"form-control\"\n                            style={{width: \"155px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"makeSubNode\", value);\n                            }}\n                        />\n                    </div>\n\n                    <div>\n                        <label>Separator : </label>\n                        <input\n                            type=\"text\"\n                            value={state.separator}\n                            className=\"form-control\"\n                            style={{width: \"140px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"separator\", value);\n                            }}\n                        />\n                        <label style={{marginLeft: \"15px\"}}>Convert : </label>\n                        <strong>{\"\\\"\" + convertHex2Str(state.separator) + \"\\\"\"}</strong>\n                    </div>\n                </div>\n                <hr/>\n                <div className=\"signal-option-wrapper\">\n                    <strong>Signal Option</strong>\n                    <button\n                        className=\"btn btn--blue\"\n                        style={{marginLeft: \"430px\"}}\n                        onClick={() => {\n                            if (signals.length > 0 && (!signals.slice(-1)[0].signal && !signals.slice(-1)[0].path)) {\n                                return;\n                            }\n                            // setSignals([...signals, {signal: '', path: ''}]);\n                            setSignals([...signals, sigDef]);\n                        }}\n                    >ADD\n                    </button>\n                    <div\n                        className=\"table-wrapper\"\n                    >\n                        <table className=\"signal-option-table\">\n                            <colgroup>\n                                <col style={{width: \"240px\"}}/>\n                                <col/>\n                                <col style={{width: \"30px\"}}/>\n                            </colgroup>\n                            <thead>\n                            <tr>\n                                <th>Signal</th>\n                                <th>Path</th>\n                                <th></th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {signals &&\n                            signals.map((item, idx) => (\n                                <tr key={\"signal-option-popup-\" + idx}>\n                                    <td>\n                                        <input\n                                            type=\"text\"\n                                            value={item.signal}\n                                            className=\"form-control\"\n                                            onChange={e => {\n                                                const {value} = e.target;\n                                                setSignals([\n                                                    ...signals.slice(0, idx),\n                                                    {\n                                                        ...item,\n                                                        signal: value,\n                                                    },\n                                                    ...signals.slice(idx + 1),\n                                                ]);\n                                            }}\n                                        />\n                                    </td>\n                                    <td>\n                                        <input\n                                            type=\"text\"\n                                            value={item.path}\n                                            className=\"form-control\"\n                                            onChange={e => {\n                                                const {value} = e.target;\n                                                setSignals([\n                                                    ...signals.slice(0, idx),\n                                                    {\n                                                        ...item,\n                                                        path: value,\n                                                    },\n                                                    ...signals.slice(idx + 1),\n                                                ]);\n                                            }}\n                                        />\n                                    </td>\n                                    <td>\n                                        <button\n                                            className=\"btn\"\n                                            onClick={() => {\n                                                setSignals([\n                                                    ...signals.slice(0, idx),\n                                                    ...signals.slice(idx + 1),\n                                                ]);\n                                            }}\n                                        >X\n                                        </button>\n                                    </td>\n                                </tr>\n                            ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n\n            </div>\n            <div className=\"popup__footer\">\n                <button\n                    className=\"btn\"\n                    onClick={() => onClose()}\n                >\n                    {/*<IntlMessages id=\"cancel\" />*/}\n                    cancel\n                </button>\n                <button className=\"btn btn--blue\" onClick={() => handleRelease()}>\n                    {/*<IntlMessages id=\"save\" />*/}\n                    save\n                </button>\n            </div>\n\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}
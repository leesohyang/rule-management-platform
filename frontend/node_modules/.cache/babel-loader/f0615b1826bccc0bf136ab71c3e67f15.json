{"ast":null,"code":"import axios from 'axios';\nimport { getAllR, getGraphs, getLinks, getTmp, getVens, getAllH, selectHead, revRe, saveVersion, getAllHL, getAllHN } from \"./Redux/actions\";\nimport { useDispatch } from \"react-redux\";\nconst BASE_URL = 'http://10.250.238.177:8084/api/v1';\n\nfunction getAllRedux(type) {\n  return async dispatch => {\n    await axios.get('http://10.250.238.177:8084/api/v1/' + type + '/selectall').then(response => {\n      switch (type) {\n        case \"normalizerule\":\n          return dispatch(getAllR(response.data.slice().map(({\n            vendors,\n            ...other\n          }) => {\n            return {\n              vendors: vendors.join(',').toString(),\n              ...other\n            };\n          })));\n\n        default:\n          return dispatch(getAllR(response.data));\n      }\n    }).catch(error => {\n      throw error;\n    });\n  };\n}\n\nfunction getNormalizeRuleFilter(obj) {\n  return async dispatch => {\n    await axios.post('http://10.250.238.177:8084/api/v1/normalizerule/selectAllFilters', obj).then(response => {\n      console.log(response.data);\n      return dispatch(getAllR(response.data.slice().map(({\n        vendors,\n        ...other\n      }) => {\n        return {\n          vendors: vendors.join(',').toString(),\n          ...other\n        };\n      })));\n    }).catch(error => {\n      throw error;\n    });\n  };\n}\n\nfunction getNormalizeRule(offset, limit) {\n  return async dispatch => {\n    await axios.get('http://10.250.238.177:8084/api/v1/normalizerule/selectall?offset=' + offset + '&limit=' + limit).then(response => {\n      console.log(response.data);\n      return dispatch(getAllR(response.data.slice().map(({\n        vendors,\n        ...other\n      }) => {\n        return {\n          vendors: vendors.join(',').toString(),\n          ...other\n        };\n      })));\n    }).catch(error => {\n      throw error;\n    });\n  };\n}\n\nasync function getRowCounts() {\n  return await axios.get('http://10.250.238.177:8084/api/v1/normalizerule/getrowcount').then(res => res.data);\n}\n\nasync function getFiltersCounts(obj) {\n  return await axios.post('http://10.250.238.177:8084/api/v1/normalizerule/getFilterscount', obj).then(res => res.data);\n} //for history\n\n\nfunction getAll(type) {\n  return async dispatch => {\n    await axios.get('http://10.250.238.177:8084/api/v1/' + type + '/selectall').then(response => {\n      switch (type) {\n        case \"history\":\n          return response.data.length && dispatch(getAllH(response.data));\n\n        case \"history/livedetectrule\":\n          return response.data.length && dispatch(getAllHL(response.data));\n\n        case \"history/normalizerule\":\n          return response.data.length && dispatch(getAllHN(response.data));\n\n        default:\n          return;\n      }\n    }).catch(error => {\n      throw error;\n    });\n  };\n}\n\nasync function insertHead(ob) {\n  return await axios.post('http://10.250.238.177:8084/api/v1/header/insert', ob);\n} // function insertHead (ob) {\n//     return async (dispatch) => {\n//         await axios\n//             .post('http://10.250.238.177:8084/api/v1/header/insert', ob)\n//             .then(response => {\n//                 dispatch(getHead)\n//             })\n//     }\n// }\n\n\nfunction getHeadVer(version) {\n  console.log(version);\n  return async dispatch => {\n    await axios.get('http://10.250.238.177:8084/api/v1/header/selectHeaderVersion?ver=' + version).then(response => {\n      console.log(response.data.ver); //안가네\n\n      const res = response.data.header.map(it => Object.assign({}, {\n        Header: it,\n        accessor: it\n      })); // dispatch(saveVersion(response.data.ver)) //여기서 버전은 바꾸지 않음.\n\n      console.log(res);\n      dispatch(selectHead(res));\n    }).catch(error => {\n      throw error;\n    });\n  };\n}\n\nfunction getHead() {\n  //TODO::아 여기서.. 최신걸 뽑는걸 안햇구나 이거 했니 ? 여기서 인자가 없으면 최신거, 있으면 그걸 뽑아와야되늗\n  return async dispatch => {\n    await axios.get('http://10.250.238.177:8084/api/v1/header/selectheader').then(response => {\n      const res = response.data.header.map(it => Object.assign({}, {\n        Header: it,\n        accessor: it\n      }));\n      dispatch(saveVersion(response.data.ver)); //버전 세팅\n\n      dispatch(selectHead(res));\n    }).catch(error => {\n      throw error;\n    });\n  };\n} //conditional field 땜에 떨어져있음.\n\n\nfunction getLiveRules() {\n  return async dispatch => {\n    await axios.get('http://10.250.238.177:8084/api/v1/rules/selectall').then(response => {\n      const res = response.data.map(({\n        conditions,\n        ...other\n      }) => {\n        const tp = {};\n        conditions.forEach(({\n          field,\n          value\n        }) => {\n          tp[field] = value;\n        });\n        return Object.assign({}, other, tp);\n      });\n      return res;\n    }).then(res => {\n      dispatch(apiProvider.getHeadVer(res[0].ver)); //여기서 live를 어떻게 줘야되지? save button 이 트리거 될때 기존 헤더 버전을 가지고 있다가, 비교해서 live flag 를 넘겨둬야겠다.\n\n      dispatch(getAllR(res));\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n}\n\nasync function getReleaseForm(type) {\n  return await axios.get('http://10.250.238.177:8084/api/v1/' + 'releaseForm' + '/select?type=' + type).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function signalZk(signals) {\n  console.log(signals);\n  return await axios.post('http://10.250.238.177:8084/api/v1/' + 'field' + '/signal', signals).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function parse(parseStr) {\n  console.log({\n    parseStr\n  });\n  return await axios.post('http://10.250.238.177:8084/api/v1/normalizerule/parse', {\n    parseStr\n  }).then(response => {\n    console.log(response);\n    return JSON.parse(decodeURIComponent(response.data.replace(/\\+/g, \"%20\")));\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function releaseZk(options) {\n  console.log(options);\n  return await axios.post('http://10.250.238.177:8084/api/v1/' + 'field' + '/zookeeper', options).then(response => {\n    console.log(response.data);\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nfunction getNodes() {\n  //select all => table 조회 용\n  return async dispatch => {\n    await axios.all([axios.get(\"http://10.250.238.177:8084/api/v1/node/selectall\"), axios.get(\"http://10.250.238.177:8084/api/v1/link/selectall\")]).then(axios.spread(function (node, link) {\n      const m = {};\n      node.data.forEach(i => {\n        m[i.id] = i.name;\n      });\n      console.log(link.data);\n      dispatch(getLinks(link.data.map(i => ({\n        idx: i.id,\n        ...i\n      }))));\n    })).catch(error => {\n      console.error(error);\n    });\n  };\n}\n\nfunction getAds(nodeId) {\n  // select 인접 노드\n  return async dispatch => {\n    await axios.get(\"http://10.250.238.177:8084/api/v1/node/selectadjacent/\" + nodeId).then(response => {\n      dispatch(getGraphs(response.data.nodes, response.data.links));\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n}\n\nasync function getAds2(nodeId) {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/node/selectadjacent/\" + nodeId).then(response => {\n    return response.data;\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function getRow(type, id) {\n  return await axios.get('http://10.250.238.177:8084/api/v1/' + type + '/select?id=' + id).then(response => {\n    console.log([...response.data].shift());\n    return [...response.data].shift();\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nfunction getTemp(type) {\n  return dispatch => {\n    axios.get('http://10.250.238.177:8084/api/v1/template/selectbytype?node=' + type).then(response => {\n      dispatch(getTmp(response.data));\n    }).catch(error => {\n      throw error;\n    });\n  };\n}\n\nasync function getTypes(type) {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/template/entitytypes?node=\" + type).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function getVendors(enType) {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/template/vendors?entity=\" + enType).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function getModels(enType, venType) {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/template/models?entity=\" + enType + \"&vendor=\" + venType).catch(error => {\n    console.error(error);\n  });\n} // 추가 가능한 entity list 조회\n\n\nasync function getEna(enType) {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/asset/selectbyquery?entityType=\" + enType).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function getEnd(enType, venType, moType) {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/device/selectbyquery?entityType=\" + enType + \"&vendor=\" + venType + \"&model=\" + moType).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function insertLink(ob) {\n  return await axios.post('http://10.250.238.177:8084/api/v1/link/insert', ob).then(response => {\n    console.log(response);\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function insertLiveDetect(ob, version) {\n  const con = [];\n\n  const res = (({\n    id,\n    active,\n    ruleType,\n    keyField,\n    confirms,\n    ver,\n    ...other\n  }) => {\n    Object.keys(other).filter(it => other[it] !== \"\").forEach(it => {\n      con.push({\n        field: it,\n        value: other[it]\n      });\n    });\n    return {\n      active,\n      ruleType,\n      keyField,\n      confirms,\n      ver: version\n    };\n  })(ob);\n\n  res['conditions'] = con;\n  return await axios.post('http://10.250.238.177:8084/api/v1/rules/insert', res).then(() => console.log(\"hi\")).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function insert(type, ob) {\n  // const sob = (({id, createdAt, updatedAt, ... other}) => other)(ob)\n  const sob = (({\n    id,\n    updatedAt,\n    ...other\n  }) => other)(ob); //여기서 id를 빼는데.\n  // console.log(typeof sob.value)\n\n\n  console.log(sob);\n  return await axios.post('http://10.250.238.177:8084/api/v1/' + type + '/insert', sob).catch(error => {\n    console.error(error);\n  });\n}\n\n;\n\nasync function insertNormal(ob) {\n  // ob[\"rules\"] = []\n  const sob = (({\n    vendors,\n    ...other\n  }) => {\n    return Object.assign({}, {\n      vendors: vendors.split(',')\n    }, other); //TODO::restore 할때 vendor 콤마가 사라짐\n  })(ob);\n\n  console.log(sob);\n  return await axios.post('http://10.250.238.177:8084/api/v1/normalizerule/upsertall', sob).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function insertNormalTotal(ob) {\n  const sob = (({\n    vendors,\n    ...other\n  }) => {\n    return Object.assign({}, {\n      vendors: vendors.split(',')\n    }, other);\n  })(ob);\n\n  console.log(sob);\n  return await axios.post('http://10.250.238.177:8084/api/v1/normalizerule/upsert', sob).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function setHistory() {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/normalizerule/selectall/tohistory\").then(response => console.log(response.data)).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function getNextVal() {\n  return await axios.get(\"http://10.250.238.177:8084/api/v1/normalizerule/nextid\").catch(error => {\n    console.error(error);\n  });\n}\n\nasync function update(type, ob) {\n  console.log(ob);\n\n  const sob = (({\n    createdAt,\n    updatedAt,\n    ...other\n  }) => other)(ob);\n\n  return await axios.post('http://10.250.238.177:8084/api/v1/' + type + '/update', sob).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function del(type, ids) {\n  console.log(ids);\n  return await axios.delete('http://10.250.238.177:8084/api/v1/' + type + '/delete', {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    data: ids\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function delNormal(id) {\n  return await axios.delete('http://10.250.238.177:8084/api/v1/normalizerule/delete', {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    data: id\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nasync function delAll(type) {\n  return await axios.get('http://10.250.238.177:8084/api/v1/' + type + '/deleteAll').catch(error => {\n    console.error(error);\n  });\n}\n\nexport const apiProvider = {\n  insert,\n  update,\n  del,\n  delNormal,\n  delAll,\n  getAllRedux,\n  getNormalizeRule,\n  getNormalizeRuleFilter,\n  getHead,\n  getReleaseForm,\n  releaseZk,\n  parse,\n  signalZk,\n  getAll,\n  getRow,\n  getTemp,\n  getTypes,\n  getVendors,\n  getModels,\n  getNodes,\n  getEna,\n  getEnd,\n  getNextVal,\n  setHistory,\n  insertLink,\n  getAds,\n  getAds2,\n  getLiveRules,\n  insertLiveDetect,\n  insertNormal,\n  insertNormalTotal,\n  insertHead,\n  getHeadVer,\n  getRowCounts,\n  getFiltersCounts\n};","map":{"version":3,"sources":["/home/leesohyang/WebstormProjects/fronted_react_final/src/services/Provider.js"],"names":["axios","getAllR","getGraphs","getLinks","getTmp","getVens","getAllH","selectHead","revRe","saveVersion","getAllHL","getAllHN","useDispatch","BASE_URL","getAllRedux","type","dispatch","get","then","response","data","slice","map","vendors","other","join","toString","catch","error","getNormalizeRuleFilter","obj","post","console","log","getNormalizeRule","offset","limit","getRowCounts","res","getFiltersCounts","getAll","length","insertHead","ob","getHeadVer","version","ver","header","it","Object","assign","Header","accessor","getHead","getLiveRules","conditions","tp","forEach","field","value","apiProvider","getReleaseForm","signalZk","signals","parse","parseStr","JSON","decodeURIComponent","replace","releaseZk","options","getNodes","all","spread","node","link","m","i","id","name","idx","getAds","nodeId","nodes","links","getAds2","getRow","shift","getTemp","getTypes","getVendors","enType","getModels","venType","getEna","getEnd","moType","insertLink","insertLiveDetect","con","active","ruleType","keyField","confirms","keys","filter","push","insert","sob","updatedAt","insertNormal","split","insertNormalTotal","setHistory","getNextVal","update","createdAt","del","ids","delete","headers","delNormal","delAll"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n    getAllR,\n    getGraphs,\n    getLinks,\n    getTmp,\n    getVens,\n    getAllH,\n    selectHead,\n    revRe,\n    saveVersion,\n    getAllHL, getAllHN\n} from \"./Redux/actions\";\nimport {useDispatch} from \"react-redux\";\n\n\nconst BASE_URL = 'http://10.250.238.177:8084/api/v1'\n\nfunction getAllRedux(type) {\n    return async (dispatch) => {\n        await axios\n            .get('http://10.250.238.177:8084/api/v1/' + type + '/selectall')\n            .then(response => {\n                switch (type) {\n                    case \"normalizerule\":\n                        return dispatch(getAllR(response.data.slice().map(\n                            ({vendors, ...other}) => {\n                                return {vendors: vendors.join(',').toString(), ...other}\n                            }\n                        )))\n                    default:\n                        return dispatch(getAllR(response.data))\n                }\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n}\n\nfunction getNormalizeRuleFilter(obj) {\n    return async (dispatch) => {\n        await axios\n            .post('http://10.250.238.177:8084/api/v1/normalizerule/selectAllFilters', obj)\n            .then(response => {\n                console.log(response.data)\n                return dispatch(getAllR(response.data.slice().map(\n                    ({vendors, ...other}) => {\n                        return {vendors: vendors.join(',').toString(), ...other}\n                    }\n                )))\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n}\nfunction getNormalizeRule(offset, limit) {\n    return async (dispatch) => {\n        await axios\n            .get('http://10.250.238.177:8084/api/v1/normalizerule/selectall?offset=' + offset + '&limit=' + limit)\n            .then(response => {\n                console.log(response.data)\n                return dispatch(getAllR(response.data.slice().map(\n                    ({vendors, ...other}) => {\n                        return {vendors: vendors.join(',').toString(), ...other}\n                    }\n                )))\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n}\nasync function getRowCounts() {\n    return await axios\n        .get('http://10.250.238.177:8084/api/v1/normalizerule/getrowcount')\n        .then((res)=>res.data)\n}\nasync function getFiltersCounts(obj) {\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/normalizerule/getFilterscount', obj)\n        .then((res)=>res.data)\n}\n\n\n//for history\nfunction getAll(type) {\n    return async (dispatch) => {\n        await axios\n            .get('http://10.250.238.177:8084/api/v1/' + type + '/selectall')\n            .then(response => {\n\n                switch (type) {\n                    case \"history\":\n                        return response.data.length && dispatch(getAllH(response.data))\n                    case \"history/livedetectrule\":\n                        return response.data.length && dispatch(getAllHL(response.data))\n                    case \"history/normalizerule\":\n                        return response.data.length && dispatch(getAllHN(response.data))\n                    default:\n                        return\n                }\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n}\n\n\nasync function insertHead(ob) {\n\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/header/insert', ob)\n}\n\n// function insertHead (ob) {\n//     return async (dispatch) => {\n//         await axios\n//             .post('http://10.250.238.177:8084/api/v1/header/insert', ob)\n//             .then(response => {\n//                 dispatch(getHead)\n//             })\n//     }\n// }\nfunction getHeadVer(version) {\n    console.log(version)\n    return async (dispatch) => {\n        await axios\n            .get('http://10.250.238.177:8084/api/v1/header/selectHeaderVersion?ver=' + version)\n            .then(response => {\n                console.log(response.data.ver); //안가네\n                const res = response.data.header.map((it) =>\n                    Object.assign({}, {Header: it, accessor: it})\n                );\n                // dispatch(saveVersion(response.data.ver)) //여기서 버전은 바꾸지 않음.\n                console.log(res)\n                dispatch(selectHead(res));\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n}\n\nfunction getHead() { //TODO::아 여기서.. 최신걸 뽑는걸 안햇구나 이거 했니 ? 여기서 인자가 없으면 최신거, 있으면 그걸 뽑아와야되늗\n    return async (dispatch) => {\n        await axios\n            .get('http://10.250.238.177:8084/api/v1/header/selectheader')\n            .then(response => {\n                const res = response.data.header.map((it) =>\n                    Object.assign({}, {Header: it, accessor: it})\n                )\n                dispatch(saveVersion(response.data.ver)) //버전 세팅\n                dispatch(selectHead(res))\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n}\n\n//conditional field 땜에 떨어져있음.\nfunction getLiveRules() {\n    return async (dispatch) => {\n        await axios\n            .get('http://10.250.238.177:8084/api/v1/rules/selectall')\n            .then(response => {\n                const res = response.data.map(({conditions, ...other}) => {\n                    const tp = {};\n                    conditions.forEach(\n                        ({field, value}) => {\n                            tp[field] = value\n                        }\n                    )\n                    return Object.assign({}, other, tp)\n                })\n                return res\n            })\n            .then(res => {\n                dispatch(apiProvider.getHeadVer(res[0].ver)) //여기서 live를 어떻게 줘야되지? save button 이 트리거 될때 기존 헤더 버전을 가지고 있다가, 비교해서 live flag 를 넘겨둬야겠다.\n                dispatch(getAllR(res))\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n    }\n}\n\n\nasync function getReleaseForm(type) {\n    return await axios\n        .get('http://10.250.238.177:8084/api/v1/' + 'releaseForm' + '/select?type=' + type)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function signalZk(signals) {\n    console.log(signals)\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/' + 'field' + '/signal', signals)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function parse(parseStr) {\n    console.log({parseStr})\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/normalizerule/parse', {parseStr})\n        .then(response => {\n            console.log(response)\n            return JSON.parse(decodeURIComponent(response.data.replace(/\\+/g, \"%20\")))\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n\n}\n\nasync function releaseZk(options) {\n    console.log(options)\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/' + 'field' + '/zookeeper', options)\n        .then(response => {\n            console.log(response.data)\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\n\nfunction getNodes() { //select all => table 조회 용\n    return async (dispatch) => {\n        await axios.all([\n            axios.get(\"http://10.250.238.177:8084/api/v1/node/selectall\"),\n            axios.get(\"http://10.250.238.177:8084/api/v1/link/selectall\")\n        ])\n            .then(axios.spread(function (node, link) {\n                const m = {}\n                node.data.forEach((i) => {\n                    m[i.id] = i.name\n                })\n                console.log(link.data)\n                dispatch(getLinks(\n                    link.data.map((i) => ({idx: i.id, ...i}))\n                ))\n            }))\n            .catch((error) => {\n                console.error(error)\n            })\n    }\n}\n\nfunction getAds(nodeId) { // select 인접 노드\n    return async (dispatch) => {\n        await axios.get(\"http://10.250.238.177:8084/api/v1/node/selectadjacent/\" + nodeId)\n            .then(response => {\n                dispatch(getGraphs(\n                    response.data.nodes,\n                    response.data.links\n                ))\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n\n    }\n}\n\nasync function getAds2(nodeId) {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/node/selectadjacent/\" + nodeId)\n        .then(response => {\n            return response.data\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function getRow(type, id) {\n    return await axios\n        .get('http://10.250.238.177:8084/api/v1/' + type + '/select?id=' + id)\n        .then(response => {\n            console.log([...response.data].shift())\n            return [...response.data].shift();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nfunction getTemp(type) {\n    return (dispatch) => {\n        axios\n            .get('http://10.250.238.177:8084/api/v1/template/selectbytype?node=' + type)\n            .then(response => {\n                dispatch(getTmp(response.data))\n            })\n            .catch(error => {\n                throw(error);\n            })\n\n    }\n}\n\nasync function getTypes(type) {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/template/entitytypes?node=\" + type)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function getVendors(enType) {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/template/vendors?entity=\" + enType)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function getModels(enType, venType) {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/template/models?entity=\" + enType + \"&vendor=\" + venType)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\n// 추가 가능한 entity list 조회\nasync function getEna(enType) {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/asset/selectbyquery?entityType=\" + enType)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function getEnd(enType, venType, moType) {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/device/selectbyquery?entityType=\" + enType + \"&vendor=\" + venType + \"&model=\" + moType)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function insertLink(ob) {\n\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/link/insert', ob)\n        .then(response => {\n            console.log(response)\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n\n}\n\nasync function insertLiveDetect(ob, version) {\n    const con = []\n    const res = (({id, active, ruleType, keyField, confirms, ver, ...other}) => {\n        Object.keys(other)\n            .filter(it => other[it] !== \"\")\n            .forEach(it => {\n                con.push({field: it, value: other[it]})\n            })\n        return ({active, ruleType, keyField, confirms, ver: version})\n    })(ob)\n    res['conditions'] = con\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/rules/insert', res)\n        .then(() => console.log(\"hi\"))\n        .catch((error) => {\n            console.error(error)\n        })\n\n}\n\nasync function insert(type, ob) {\n    // const sob = (({id, createdAt, updatedAt, ... other}) => other)(ob)\n    const sob = (({id, updatedAt, ...other}) => other)(ob) //여기서 id를 빼는데.\n    // console.log(typeof sob.value)\n    console.log(sob)\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/' + type + '/insert', sob)\n        .catch((error) => {\n            console.error(error)\n        })\n\n};\n\n\nasync function insertNormal(ob) {\n    // ob[\"rules\"] = []\n    const sob = (({vendors, ...other}) => {\n        return Object.assign({}, {vendors: vendors.split(',')}, other) //TODO::restore 할때 vendor 콤마가 사라짐\n    })(ob)\n    console.log(sob)\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/normalizerule/upsertall', sob)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function insertNormalTotal(ob) {\n    const sob = (({vendors, ...other}) => {\n        return Object.assign({}, {vendors: vendors.split(',')}, other)\n    })(ob)\n    console.log(sob)\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/normalizerule/upsert', sob)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function setHistory() {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/normalizerule/selectall/tohistory\")\n        .then((response) => console.log(response.data))\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function getNextVal() {\n    return await axios\n        .get(\"http://10.250.238.177:8084/api/v1/normalizerule/nextid\")\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function update(type, ob) {\n    console.log(ob)\n    const sob = (({createdAt, updatedAt, ...other}) => other)(ob)\n\n    return await axios\n        .post('http://10.250.238.177:8084/api/v1/' + type + '/update', sob)\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function del(type, ids) {\n    console.log(ids)\n    return await axios\n        .delete('http://10.250.238.177:8084/api/v1/' + type + '/delete', {\n            headers: {'Content-Type': 'application/json'},\n            data: ids\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function delNormal(id) {\n    return await axios\n        .delete('http://10.250.238.177:8084/api/v1/normalizerule/delete', {\n            headers: {'Content-Type': 'application/json'},\n            data: id\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nasync function delAll(type) {\n    return await axios\n        .get('http://10.250.238.177:8084/api/v1/' + type + '/deleteAll')\n        .catch((error) => {\n            console.error(error)\n        })\n}\n\nexport const apiProvider = {\n    insert,\n    update,\n    del,\n    delNormal,\n    delAll,\n    getAllRedux,\n    getNormalizeRule,\n    getNormalizeRuleFilter,\n    getHead,\n    getReleaseForm,\n    releaseZk,\n    parse,\n    signalZk,\n    getAll,\n    getRow,\n    getTemp,\n    getTypes,\n    getVendors,\n    getModels,\n    getNodes,\n    getEna,\n    getEnd,\n    getNextVal,\n    setHistory,\n    insertLink,\n    getAds,\n    getAds2,\n    getLiveRules,\n    insertLiveDetect,\n    insertNormal,\n    insertNormalTotal,\n    insertHead,\n    getHeadVer,\n    getRowCounts,\n    getFiltersCounts\n};"]},"metadata":{},"sourceType":"module"}
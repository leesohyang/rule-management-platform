{"ast":null,"code":"var _jsxFileName = \"/home/leesohyang/WebstormProjects/tmp/src/pages/Device/LiveDetectRule.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport \"react-sliding-pane/dist/react-sliding-pane.css\";\nimport { apiProvider } from \"../../services/Provider\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { revAd, revRe, revOp, clickedOp, currType, getAllR, openSelectPop, openSelectKeyFieldPop, openSelectConFieldPop, openSavePop, saveVersion } from \"../../services/Redux/actions\";\nimport ReleasePopup from \"../../components/popup/ReleasePopup\";\nimport \"react-table/react-table.css\";\nimport SelectFieldPopup from \"../../components/popup/SelectFieldPopup\";\nimport SelectKeyFieldPopup from \"../../components/popup/SelectKeyFieldPopup\";\nimport GridTableLDR from \"../../components/table/gridTableLDR\";\nimport SavePopup from \"../../components/popup/SavePopup\";\nimport GridTableH from \"../../components/table/gridTableH\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LiveDetectRule = () => {\n  _s();\n\n  const openPop = useSelector(state => state.fetchAPI.open);\n  const selectPop = useSelector(state => state.fetchAPI.openSelect);\n  const selectKPop = useSelector(state => state.fetchAPI.openKeyField);\n  const [change, setChange] = useState(false);\n  const savePop = useSelector(state => state.fetchAPI.openSave);\n  const version = useSelector(state => state.fetchAPI.headVersion);\n  const headers = useSelector(state => state.fetchAPI.header);\n  const ob = useSelector(state => state.fetchAPI.keyField);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    apiProvider.getHead().then(ver => {\n      dispatch(saveVersion(ver));\n      dispatch(apiProvider.getHeadVer(ver));\n    }); // handleData()\n  }, []);\n\n  const handleUpdate = data => {\n    apiProvider.update(\"rules\", data).then(() => dispatch(revRe(true)));\n  };\n\n  const addOrEdit = (data, ver) => {\n    apiProvider.insertLiveDetect(data, ver);\n  };\n\n  const editOrDelete = id => {\n    apiProvider.del(\"field\", id).then(() => {\n      dispatch(revRe(true));\n    });\n  };\n\n  const handleHeadVer = ver => {\n    dispatch(apiProvider.getHeadVer(ver));\n  };\n\n  const handleData = () => {\n    apiProvider.getLiveRules(0, 2).then(res => {});\n  };\n\n  const handleDataH = () => {\n    dispatch(apiProvider.getAll(\"history/livedetectrule\"));\n  };\n\n  const openConSelectPopup = () => {\n    dispatch(openSelectConFieldPop(true));\n  };\n\n  const openKeySelectPopup = () => {\n    dispatch(openSelectKeyFieldPop(true));\n  };\n\n  const openSelectPopup = () => {\n    console.log(ob);\n    dispatch(openSelectPop(true));\n  };\n\n  const openSavePopup = () => {\n    dispatch(openSavePop(true));\n  };\n\n  const insertHead = header => {\n    apiProvider.insertHead(header).then(() => {\n      dispatch(revRe(true));\n    });\n  };\n\n  const activeHead = version => {\n    apiProvider.activeHead(version).then(() => {\n      dispatch(revRe(true));\n    });\n  };\n\n  return headers.length > 0 && /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component component-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component__title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"header__title\",\n          children: \" Live Detect Rule \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"binder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(GridTableLDR, {\n        handleData: handleData,\n        addf: addOrEdit,\n        delete: editOrDelete,\n        insertHead: insertHead,\n        activeHead: activeHead // handleHead={handleHead}\n        ,\n        handleHeadVer: handleHeadVer,\n        update: handleUpdate,\n        columns: headers,\n        openSelectPopup: openSelectPopup,\n        openKeySelectPopup: openKeySelectPopup,\n        openConSelectPopup: openConSelectPopup,\n        openSave: openSavePopup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(GridTableH, {\n        name: \"livedetectrule\",\n        handleData: handleDataH\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), selectPop && /*#__PURE__*/_jsxDEV(SelectFieldPopup, {\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 31\n      }, this), savePop && /*#__PURE__*/_jsxDEV(SavePopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LiveDetectRule, \"UoNz7ypRJYJxAhccHJjMAIungQ0=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = LiveDetectRule;\nexport default _c2 = /*#__PURE__*/React.memo(LiveDetectRule);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LiveDetectRule\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/leesohyang/WebstormProjects/tmp/src/pages/Device/LiveDetectRule.js"],"names":["React","useState","useRef","useEffect","apiProvider","makeStyles","useDispatch","useSelector","revAd","revRe","revOp","clickedOp","currType","getAllR","openSelectPop","openSelectKeyFieldPop","openSelectConFieldPop","openSavePop","saveVersion","ReleasePopup","SelectFieldPopup","SelectKeyFieldPopup","GridTableLDR","SavePopup","GridTableH","LiveDetectRule","openPop","state","fetchAPI","open","selectPop","openSelect","selectKPop","openKeyField","change","setChange","savePop","openSave","version","headVersion","headers","header","ob","keyField","dispatch","getHead","then","ver","getHeadVer","handleUpdate","data","update","addOrEdit","insertLiveDetect","editOrDelete","id","del","handleHeadVer","handleData","getLiveRules","res","handleDataH","getAll","openConSelectPopup","openKeySelectPopup","openSelectPopup","console","log","openSavePopup","insertHead","activeHead","length","memo"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from \"react\";\nimport \"react-sliding-pane/dist/react-sliding-pane.css\";\nimport {apiProvider} from \"../../services/Provider\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n    revAd,\n    revRe,\n    revOp,\n    clickedOp,\n    currType,\n    getAllR,\n    openSelectPop,\n    openSelectKeyFieldPop, openSelectConFieldPop, openSavePop, saveVersion\n} from \"../../services/Redux/actions\";\nimport ReleasePopup from \"../../components/popup/ReleasePopup\";\nimport \"react-table/react-table.css\";\nimport SelectFieldPopup from \"../../components/popup/SelectFieldPopup\";\nimport SelectKeyFieldPopup from \"../../components/popup/SelectKeyFieldPopup\";\nimport GridTableLDR from \"../../components/table/gridTableLDR\";\nimport SavePopup from \"../../components/popup/SavePopup\";\nimport GridTableH from \"../../components/table/gridTableH\";\n\n\nconst LiveDetectRule = () => {\n\n    const openPop = useSelector(state => state.fetchAPI.open)\n    const selectPop = useSelector(state => state.fetchAPI.openSelect)\n    const selectKPop = useSelector(state => state.fetchAPI.openKeyField)\n    const [change, setChange] = useState(false)\n    const savePop = useSelector(state => state.fetchAPI.openSave)\n    const version = useSelector(state => state.fetchAPI.headVersion)\n    const headers = useSelector(state => state.fetchAPI.header)\n    const ob = useSelector(state => state.fetchAPI.keyField)\n    const dispatch = useDispatch();\n\n\n    useEffect(() => {\n        apiProvider.getHead().then((ver) => {\n            dispatch(saveVersion(ver))\n            dispatch(apiProvider.getHeadVer(ver))\n        })\n        // handleData()\n    }, [])\n\n    const handleUpdate = (data) => {\n        apiProvider.update(\"rules\", data).then(() => dispatch(revRe(true)))\n    }\n    const addOrEdit = (data, ver) => {\n        apiProvider.insertLiveDetect(data, ver)\n    }\n\n    const editOrDelete = (id) => {\n        apiProvider.del(\"field\", id).then(() => {\n            dispatch(revRe(true))\n        })\n\n    }\n    const handleHeadVer = (ver) => {\n        dispatch(apiProvider.getHeadVer(ver))\n    }\n    const handleData = () => {\n        apiProvider.getLiveRules(0, 2).then((res) => {\n\n        })\n    }\n\n    const handleDataH = () => {\n        dispatch(apiProvider.getAll(\"history/livedetectrule\"))\n    }\n\n    const openConSelectPopup = () => {\n        dispatch(openSelectConFieldPop(true))\n    }\n    const openKeySelectPopup = () => {\n        dispatch(openSelectKeyFieldPop(true))\n    }\n    const openSelectPopup = () => {\n        console.log(ob)\n        dispatch(openSelectPop(true))\n    }\n    const openSavePopup = () => {\n        dispatch(openSavePop(true))\n    }\n    const insertHead = (header) => {\n        apiProvider.insertHead(header).then(() => {\n            dispatch(revRe(true))\n        })\n    }\n    \n    const activeHead = (version) => {\n        apiProvider.activeHead(version).then(() => {\n            dispatch(revRe(true))\n        })\n    }\n    return headers.length > 0 && (\n        <React.Fragment>\n\n            <div className=\"component component-list\">\n                <div className=\"component__title\"></div>\n                <div className=\"header-bar\">\n                    <span className=\"header__title\"> Live Detect Rule </span>\n                    <div className=\"binder\"/>\n                </div>\n\n                <GridTableLDR\n                    handleData={handleData}\n                    addf={addOrEdit}\n                    delete={editOrDelete}\n                    insertHead={insertHead}\n                    activeHead={activeHead}\n                    // handleHead={handleHead}\n                    handleHeadVer={handleHeadVer}\n                    update={handleUpdate}\n                    columns={\n                        headers\n                    }\n                    openSelectPopup={openSelectPopup}\n                    openKeySelectPopup={openKeySelectPopup}\n                    openConSelectPopup={openConSelectPopup}\n                    openSave={openSavePopup}\n                ></GridTableLDR>\n\n                <GridTableH\n                    name=\"livedetectrule\"\n                    handleData={handleDataH}\n                ></GridTableH>\n\n                {selectPop && <SelectFieldPopup> </SelectFieldPopup>}\n                {savePop && <SavePopup></SavePopup>}\n\n            </div>\n\n\n        </React.Fragment>\n    );\n};\n\n\nexport default React.memo(LiveDetectRule);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/leesohyang/WebstormProjects/tmp/src/components/popup/ReleasePopup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react'; // import { Dialog, DialogTitle, DialogContent, makeStyles, Typography } from '@material-ui/core';\n// import { makeStyles } from \"@material-ui/core\";\n// import Controls from \"./controls/Controls\";\n// import CloseIcon from '@material-ui/icons/Close';\n\nimport { convertHex2Str } from \"../util/utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { delSave, editZero, hisFlag, openPop, revRe } from \"../../services/Redux/actions\";\nimport { apiProvider } from \"../../services/Provider\";\nimport isEqual from 'lodash.isequal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReleasePopup(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const data = useSelector(state => state.fetchAPI.data);\n  const currData = useSelector(state => state.fetchAPI.editedOrigin);\n  const savedData = useSelector(state => state.editOperator.savedData);\n  const editId = useSelector(state => state.editOperator.editId);\n  const delId = useSelector(state => state.editOperator.delId);\n  const [state, setState] = React.useState({\n    releasePath: \"\",\n    nodeSize: \"\",\n    makeSubNode: false,\n    separator: \"\"\n  });\n  const [signals, setSignals] = React.useState([]);\n  const [sigDef, setSigDef] = React.useState([]);\n  React.useEffect(() => {\n    apiProvider.getReleaseForm(\"Field\").then(res => {\n      setState(res.data.value);\n      setSigDef(res.data.signal);\n    } // console.log(res)\n    );\n  }, []);\n\n  const onChange = (key, value) => {\n    setState({ ...state,\n      [key]: value\n    });\n  };\n\n  const onClose = () => {\n    dispatch(openPop(false));\n  };\n\n  const handleRelease = () => {\n    if (!editId.length && !delId.length) {\n      apiProvider.releaseZk(state).then(() => apiProvider.signalZk(signals)).then(() => apiProvider.updateRelease().then(() => {\n        dispatch(revRe(true)); // dispatch(editZero())\n      }));\n    } else {\n      //비동기 처리 되려나\n      this.props.handleSave();\n      apiProvider.releaseZk(state).then(() => apiProvider.signalZk(signals));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup popup--dark\",\n    id: \"releaseOptionPopup\",\n    style: {\n      width: '600px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"release option\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-close\",\n        onClick: () => onClose()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__body release-option-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"release-option-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"release-option-tab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Release Path : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\" // value={state[tab].releasePath}\n            // defaultValue={\"default\"}\n            ,\n            value: state.releasePath,\n            className: \"form-control\",\n            style: {\n              width: \"455px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"releasePath\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Node Size : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\" // value={state[tab].releasePath}\n            ,\n            value: state.nodeSize,\n            className: \"form-control\",\n            style: {\n              width: \"155px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"nodeSize\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Make Sub Node : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\" // value={state[tab].releasePath}\n            ,\n            value: state.makeSubNode,\n            className: \"form-control\",\n            style: {\n              width: \"155px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"makeSubNode\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Separator : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: state.separator,\n            className: \"form-control\",\n            style: {\n              width: \"140px\"\n            },\n            onChange: e => {\n              const {\n                value\n              } = e.target;\n              onChange(\"separator\", value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginLeft: \"15px\"\n            },\n            children: \"Convert : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"\" + convertHex2Str(state.separator) + \"\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signal-option-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Signal Option\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn--blue\",\n          style: {\n            marginLeft: \"430px\"\n          },\n          onClick: () => {\n            if (signals.length > 0 && !signals.slice(-1)[0].signal && !signals.slice(-1)[0].path) {\n              return;\n            } // setSignals([...signals, {signal: '', path: ''}]);\n\n\n            setSignals([...signals, sigDef]);\n          },\n          children: \"ADD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"signal-option-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"colgroup\", {\n              children: [/*#__PURE__*/_jsxDEV(\"col\", {\n                style: {\n                  width: \"240px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"col\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"col\", {\n                style: {\n                  width: \"30px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Signal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Path\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: signals && signals.map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: item.signal,\n                    className: \"form-control\",\n                    onChange: e => {\n                      const {\n                        value\n                      } = e.target;\n                      setSignals([...signals.slice(0, idx), { ...item,\n                        signal: value\n                      }, ...signals.slice(idx + 1)]);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: item.path,\n                    className: \"form-control\",\n                    onChange: e => {\n                      const {\n                        value\n                      } = e.target;\n                      setSignals([...signals.slice(0, idx), { ...item,\n                        path: value\n                      }, ...signals.slice(idx + 1)]);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn\",\n                    onClick: () => {\n                      setSignals([...signals.slice(0, idx), ...signals.slice(idx + 1)]);\n                    },\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 41\n                }, this)]\n              }, \"signal-option-popup-\" + idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: () => onClose(),\n        children: \"cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn--blue\",\n        onClick: () => handleRelease(),\n        children: \"save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ReleasePopup, \"8HNOH6r5zgiY/lh99IRmtYTs23c=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ReleasePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReleasePopup\");","map":{"version":3,"sources":["/home/leesohyang/WebstormProjects/tmp/src/components/popup/ReleasePopup.js"],"names":["React","convertHex2Str","useDispatch","useSelector","delSave","editZero","hisFlag","openPop","revRe","apiProvider","isEqual","ReleasePopup","props","dispatch","data","state","fetchAPI","currData","editedOrigin","savedData","editOperator","editId","delId","setState","useState","releasePath","nodeSize","makeSubNode","separator","signals","setSignals","sigDef","setSigDef","useEffect","getReleaseForm","then","res","value","signal","onChange","key","onClose","handleRelease","length","releaseZk","signalZk","updateRelease","handleSave","width","e","target","marginLeft","slice","path","map","item","idx"],"mappings":"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","sourcesContent":["import React from 'react'\n// import { Dialog, DialogTitle, DialogContent, makeStyles, Typography } from '@material-ui/core';\n// import { makeStyles } from \"@material-ui/core\";\n// import Controls from \"./controls/Controls\";\n// import CloseIcon from '@material-ui/icons/Close';\nimport {convertHex2Str} from \"../util/utils\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {delSave, editZero, hisFlag, openPop, revRe} from \"../../services/Redux/actions\";\nimport {apiProvider} from \"../../services/Provider\";\nimport isEqual from 'lodash.isequal';\n\nexport default function ReleasePopup(props) {\n\n    const dispatch = useDispatch();\n\n    const data = useSelector(state => state.fetchAPI.data)\n    const currData = useSelector(state => state.fetchAPI.editedOrigin)\n    const savedData = useSelector(state => state.editOperator.savedData)\n    const editId = useSelector(state => state.editOperator.editId)\n    const delId = useSelector(state => state.editOperator.delId)\n\n    const [state, setState] = React.useState({\n        releasePath: \"\",\n        nodeSize: \"\",\n        makeSubNode: false,\n        separator: \"\",\n    })\n\n    const [signals, setSignals] = React.useState([]);\n    const [sigDef, setSigDef] = React.useState([]);\n\n    React.useEffect(() => {\n        apiProvider.getReleaseForm(\"Field\").then((res) => {\n                setState(res.data.value);\n                setSigDef(res.data.signal);\n            }\n            // console.log(res)\n        )\n    }, [])\n\n    const onChange = (key, value) => {\n        setState({\n            ...state,\n            [key]: value,\n        });\n    }\n\n    const onClose = () => {\n        dispatch(openPop(false))\n    }\n\n    const handleRelease = () => {\n\n        if (!editId.length && !delId.length) {\n            apiProvider.releaseZk(state)\n                .then(() => apiProvider.signalZk(signals))\n                .then(() =>\n                    apiProvider.updateRelease().then(() => {\n                        dispatch(revRe(true));\n                        // dispatch(editZero())\n                    }))\n        } else {\n            //비동기 처리 되려나\n            this.props.handleSave()\n            apiProvider.releaseZk(state).then(() => apiProvider.signalZk(signals))\n        }\n    }\n\n    return (\n        <div\n            className=\"popup popup--dark\"\n            id=\"releaseOptionPopup\"\n            style={{width: '600px'}}\n        >\n            <div className=\"popup__header\">\n                <h5>\n                    {/*<IntlMessages id=\"field.release.option\" />*/}\n                    release option\n                </h5>\n                <button\n                    className=\"btn btn-close\"\n                    onClick={() => onClose()}\n                />\n            </div>\n            <div\n                className=\"popup__body release-option-popup\"\n            >\n                <div className=\"release-option-wrap\">\n                    <div className=\"release-option-tab\"></div>\n                    <div>\n                        <label>Release Path : </label>\n                        <input\n                            type=\"text\"\n                            // value={state[tab].releasePath}\n                            // defaultValue={\"default\"}\n                            value={state.releasePath}\n                            className=\"form-control\"\n                            style={{width: \"455px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"releasePath\", value);\n                            }}\n                        />\n                    </div>\n                    <div>\n                        <label>Node Size : </label>\n                        <input\n                            type=\"text\"\n                            // value={state[tab].releasePath}\n                            value={state.nodeSize}\n                            className=\"form-control\"\n                            style={{width: \"155px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"nodeSize\", value);\n                            }}\n                        />\n                    </div>\n                    <div>\n                        <label>Make Sub Node : </label>\n                        <input\n                            type=\"text\"\n                            // value={state[tab].releasePath}\n                            value={state.makeSubNode}\n                            className=\"form-control\"\n                            style={{width: \"155px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"makeSubNode\", value);\n                            }}\n                        />\n                    </div>\n\n                    <div>\n                        <label>Separator : </label>\n                        <input\n                            type=\"text\"\n                            value={state.separator}\n                            className=\"form-control\"\n                            style={{width: \"140px\"}}\n                            onChange={e => {\n                                const {value} = e.target;\n                                onChange(\"separator\", value);\n                            }}\n                        />\n                        <label style={{marginLeft: \"15px\"}}>Convert : </label>\n                        <strong>{\"\\\"\" + convertHex2Str(state.separator) + \"\\\"\"}</strong>\n                    </div>\n                </div>\n                <hr/>\n                <div className=\"signal-option-wrapper\">\n                    <strong>Signal Option</strong>\n                    <button\n                        className=\"btn btn--blue\"\n                        style={{marginLeft: \"430px\"}}\n                        onClick={() => {\n                            if (signals.length > 0 && (!signals.slice(-1)[0].signal && !signals.slice(-1)[0].path)) {\n                                return;\n                            }\n                            // setSignals([...signals, {signal: '', path: ''}]);\n                            setSignals([...signals, sigDef]);\n                        }}\n                    >ADD\n                    </button>\n                    <div\n                        className=\"table-wrapper\"\n                    >\n                        <table className=\"signal-option-table\">\n                            <colgroup>\n                                <col style={{width: \"240px\"}}/>\n                                <col/>\n                                <col style={{width: \"30px\"}}/>\n                            </colgroup>\n                            <thead>\n                            <tr>\n                                <th>Signal</th>\n                                <th>Path</th>\n                                <th></th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {signals &&\n                                signals.map((item, idx) => (\n                                    <tr key={\"signal-option-popup-\" + idx}>\n                                        <td>\n                                            <input\n                                                type=\"text\"\n                                                value={item.signal}\n                                                className=\"form-control\"\n                                                onChange={e => {\n                                                    const {value} = e.target;\n                                                    setSignals([\n                                                        ...signals.slice(0, idx),\n                                                        {\n                                                            ...item,\n                                                            signal: value,\n                                                        },\n                                                        ...signals.slice(idx + 1),\n                                                    ]);\n                                                }}\n                                            />\n                                        </td>\n                                        <td>\n                                            <input\n                                                type=\"text\"\n                                                value={item.path}\n                                                className=\"form-control\"\n                                                onChange={e => {\n                                                    const {value} = e.target;\n                                                    setSignals([\n                                                        ...signals.slice(0, idx),\n                                                        {\n                                                            ...item,\n                                                            path: value,\n                                                        },\n                                                        ...signals.slice(idx + 1),\n                                                    ]);\n                                                }}\n                                            />\n                                        </td>\n                                        <td>\n                                            <button\n                                                className=\"btn\"\n                                                onClick={() => {\n                                                    setSignals([\n                                                        ...signals.slice(0, idx),\n                                                        ...signals.slice(idx + 1),\n                                                    ]);\n                                                }}\n                                            >X\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n\n            </div>\n            <div className=\"popup__footer\">\n                <button\n                    className=\"btn\"\n                    onClick={() => onClose()}\n                >\n                    {/*<IntlMessages id=\"cancel\" />*/}\n                    cancel\n                </button>\n                <button className=\"btn btn--blue\" onClick={() => handleRelease()}>\n                    {/*<IntlMessages id=\"save\" />*/}\n                    save\n                </button>\n            </div>\n\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}